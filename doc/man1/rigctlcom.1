.\"                                      Hey, EMACS: -*- nroff -*-
.\"
.\" For layout and available macros, see man(7), man-pages(7), groff_man(7)
.\" Please adjust the date whenever revising the manpage.
.\"
.\" Note: Please keep this page in sync with the source, rigctlcom.c
.\"
.TH RIGCTLCOM "1" "2019-01-13" "Hamlib" "Hamlib Utilities"
.
.
.SH NAME
.
rigctlcom \- COM port passthru as TS-2000 emulator to your rig
.
.SH SYNOPSIS
.
.
.SY rigctlcom
.OP \-hiIlLnouV
.OP \-m id
.OP \-r device
.OP \-R device2
.OP \-p device
.OP \-d device
.OP \-P type
.OP \-D type
.OP \-s baud
.OP \-S baud2
.OP \-c id
.OP \-t char
.OP \-C parm=val
.RB [ \-v [ \-Z ]]
.RB [ command | \- ]
.YS
.
.SH DESCRIPTION
Allows programs which can connect to TS-2000 via COM port to use hamlib rigs.  Multiple programs can connect to rig via FLRig or rigctld.
.
.PP
Please report bugs and provide feedback at the e-mail address given in the
.B BUGS
section below.  Patches and code enhancements sent to the same address are
welcome.
.
.
.SH OPTIONS
.
This program follows the usual GNU command line syntax.  Short options that
take an argument may have the value follow immediately or be separated by a
space.  Long options starting with two dashes (\(oq\-\(cq) require an
\(oq=\(cq between the option and any argument.
.
.PP
Here is a summary of the supported options:
.
.TP
.BR \-m ", " \-\-model = \fIid\fP
Select radio model number.
.IP
See model list (use \(lqrigctl -l\(rq).
.IP
.BR Note :
.B rigctl
(or third party software using the C API) will use radio model 2 for
.B NET rigctl
(communicating with
.BR rigctld ).
.
.TP
.BR \-r ", " \-\-rig\-file = \fIdevice\fP
Use
.I device
as the file name of the port connected to the radio.
.IP
Often a serial port, but could be a USB to serial adapter.  Typically
.IR /dev/ttyS0 ", " /dev/ttyS1 ", " /dev/ttyUSB0 ,
etc. on Linux,
.IR COM1 ", " COM2 ,
etc. on MS Windows.  The BSD flavors and Mac OS/X have their own designations.
See your system's documentation.
.IP
The special string \(lquh\-rig\(rq may be given to enable micro-ham device
support.
.
.TP
.BR \-r ", " \-\-rig\-file2 = \fIdevice\fP
Use
.I device
as the file name of one of the virtual com ports -- your program will connect to the other com port of the virtual pair.  Virtual com ports in Unix can be done with socat, e.g. "socat -d -d pty,raw,echo=0 pty,raw,echo=0".  On Windows you can use com0com, freevirtualserialports.com, or VPSD.
.
.TP
.BR \-p ", " \-\-ptt\-file = \fIdevice\fP
Use
.I device
as the file name of the Push-To-Talk device using a device file as described
above.
.
.TP
.BR \-d ", " \-\-dcd\-file = \fIdevice\fP
Use
.I device
as the file name of the Data Carrier Detect device using a device file as
described above.
.
.TP
.BR \-P ", " \-\-ptt\-type = \fItype\fP
Use
.I type
of Push-To-Talk device.
.IP
Supported types are \(oqRIG\(cq (CAT command), \(oqDTR\(cq, \(oqRTS\(cq,
\(oqPARALLEL\(cq, \(oqNONE\(cq, overriding PTT type defined in the rig's
backend.
.IP
Some side effects of this command are that when type is set to DTR, read
PTT state comes from the
.B Hamlib
frontend, not read from the radio.  When set to NONE, PTT state cannot be read
or set even if rig backend supports reading/setting PTT status from the rig.
.
.TP
.BR \-D ", " \-\-dcd\-type = \fItype\fP
Use
.I type
of Data Carrier Detect device.
.IP
Supported types are \(oqRIG\(cq (CAT command), \(oqDSR\(cq, \(oqCTS\(cq,
\(oqCD\(cq, \(oqPARALLEL\(cq, \(oqNONE\(cq.
.
.TP
.BR \-s ", " \-\-serial\-speed = \fIbaud\fP
Set serial speed to
.I baud
rate.
.IP
Uses maximum serial speed from radio backend capabilities (set by
.B -m
above) as the default.
.
.TP
.BR \-s ", " \-\-serial\-speed2 = \fIbaud\fP
Set serial speed to
.I baud
rate for virtual com port (i.e. -R).
.IP
Uses maximum serial speed from radio backend capabilities (set by
.B -m
above) as the default.
.
.TP
.BR \-c ", " \-\-civaddr = \fIid\fP
Use
.I id
as the CI-V address to communicate with the rig.
.IP
Only useful for Icom and some Ten-Tec rigs.
.IP
.BR Note :
The
.I id
is in decimal notation, unless prefixed by
.IR 0x ,
in which case it is hexadecimal.
.
.TP
.BR \-t ", " \-\-send\-cmd\-term = \fIchar\fP
Change the termination
.I char
for text protocol when using the
.B send_cmd
command.
.IP
The default value is ASCII CR (\(oq0x0D\(cq).  ASCII non-printing characters
can be given as the ASCII number in hexadecimal format prepended with
\(lq0x\(rq.  You may pass an empty string for no termination char.  The string
\(lq\-1\(rq tells
.B rigctl
to switch to binary protocol.  See the
.B send_cmd
command for further explanation.
.IP
For example, to specify a command terminator for Kenwood style text commands
pass \(lq-t ';'\(rq to rigctl.  See
.B EXAMPLE
below.
.
.TP
.BR \-L ", " \-\-show\-conf
List all config parameters for the radio defined with
.B \-m
above.
.
.TP
.BR \-C ", " \-\-set\-conf = \fIparm=val\fP [ \fI,parm=val\fP ]
Set radio configuration parameter(s), e.g.
.IR stop_bits=2 .
.IP
Use the
.B -L
option above for a list of configuration parameters for a given model number.
.
.TP
.BR \-u ", " \-\-dump\-caps
Dump capabilities for the radio defined with
.B -m
above and exit.
.
.TP
.BR \-l ", " \-\-list
List all model numbers defined in
.B Hamlib
and exit.
.IP
The list is sorted by model number.
.IP
.BR Note :
In Linux the list can be scrolled back using
.BR Shift-PageUp / Shift-PageDown ,
or using the scrollbars of a virtual terminal in X or the cmd window in
Windows.  The output can be piped to
.BR more (1)
or
.BR less (1),
e.g. \(lqrigctl -l | more\(rq.
.
.TP
.BR \-o ", " \-\-vfo
Enable vfo mode.
.IP
An extra VFO argument will be required in front of each appropriate command
(except
.BR set_vfo ).
Otherwise, \(oqcurrVFO\(cq is used when this option is not set and an extra
VFO argument is not used.
.
.TP
.BR \-n ", " \-\-no\-restore\-ai
On exit
.B rigctl
restores the state of auto information (AI) on the controlled rig.
.IP
If this is not desired, for example if you are using
.B rigctl
to turn AI mode on or off, pass this option.
.
.TP
.BR \-I ", " \-\-save\-history
Write current session (and previous session(s), if
.B -i
option is given) command and argument history to a file (default
.IR $HOME/.rigctl_history )
at the end of the current session.
.IP
Complete commands with arguments are saved as a single line to be recalled and
used or edited.  Available when
.B rigctl
is built with Readline support (see
.B READLINE
below).
.IP
.BR Note :
To write a history file in another directory, set the
.B RIGCTL_HIST_DIR
environment variable, e.g. \(lqRIGCTL_HIST_DIR=~/tmp rigctl -I\)Rq.  When
RIGCTL_HIST_DIR is not set, the value of
.B HOME
is used.
.
.TP
.BR \-v ", " \-\-verbose
Set verbose mode, cumulative (see
.B DIAGNOSTICS
below).
.
.TP
.BR \-Z ", " \-\-debug\-time\-stamps
Enable time stamps for the debug messages.
.IP
Use only in combination with the
.B -v
option as it generates no output on its own.
.
.TP
.BR \-h ", " \-\-help
Show a summary of these options and exit.
.
.TP
.BR \-V ", " \-\-version
Show version of
.B rigctl
and exit.
.
.TP
.B \-
Stop option processing and read commands from standard input.
.IP
See
.B Standard Input
below.
.
.PP
.BR Note :
Some options may not be implemented by a given backend and will return an
error.  This is most likely to occur with the
.B \-\-set\-conf
and
.B \-\-show\-conf
options.
.
.PP
Please note that the backend for the radio to be controlled, or the radio
itself may not support some commands.  In that case, the operation will fail
with a
.B Hamlib
error code.
.
.
.SH DIAGNOSTICS
.
The
.BR \-v ,
.B \-\-verbose
option allows different levels of diagnostics
to be output to
.B stderr
and correspond to \-v for
.BR BUG ,
\-vv for
.BR ERR ,
\-vvv for
.BR WARN ,
\-vvvv for
.BR VERBOSE ,
or \-vvvvv for
.BR TRACE .
.
.PP
A given verbose level is useful for providing needed debugging information to
the email address below.  For example, TRACE output shows all of the values
sent to and received from the radio which is very useful for radio backend
library development and may be requested by the developers.
.
.
.SH EXIT STATUS
.B rigctlcom
exits with:
.
.TP
.B 0
if all operations completed normally;
.
.TP
.B 1
if there was an invalid command line option or argument;
.
.TP
.B 2
if an error was returned by
.BR Hamlib .
.
.
.SH EXAMPLE
.
Start
.B rigctl
for FLRig and virtual com port pair COM9/COM10, e.g. N1MM running on COM10 with TS-2000 emulator
.
.sp
.RS 0.5i
.EX
$ rigctlcom -m 4 -R COM9 -S 115200
.EE
.RE
.
.SH BUGS
.
.PP
Report bugs to:
.IP
.nf
.MT hamlib\-developer@lists.sourceforge.net
Hamlib Developer mailing list
.ME
.fi
.
.
.SH COPYING
.
This file is part of Hamlib, a project to develop a library that simplifies
radio and rotator control functions for developers of software primarily of
interest to radio amateurs and those interested in radio communications.
.
.PP
Copyright \(co 2000-2011 Stephane Fillod
.br
Copyright \(co 2000-2018 the Hamlib Group (various contributors)
.br
Copyright \(co 2010-2018 Nate Bargmann
.br
Copyright \(co 2019 Michael Black W9MDB
.
.PP
This is free software; see the file COPYING for copying conditions.  There is
NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
.
.
.SH SEE ALSO
.
.BR rigctld (1),
.BR rigctl (1),
.BR hamlib (7)
.
.
.SH COLOPHON
.
Links to the Hamlib Wiki, Git repository, release archives, and daily snapshot
archives:
.IP
.UR http://www.hamlib.org
hamlib.org
.UE .
